## Folder Structure

This is the folder and files structure used by Scafflater. Everything that is not at this structure will be completed ignored.

```
.scafflater
  ├── scafflater.jsonc
  ├── init
  │   └── ...
  ├── partials
  │   └── partial-template-1
  │       └── _scf.json
  │   └── ...
  │   └── partial-template-2
  │       └── _scf.json
  ├── hooks
  │   └── onGenerateStart.js
```

<div class="mobile-side-scroller">
<table>
  <thead>
    <tr>
      <th>File / Directory</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p><code>/scafflater.jsonc</code></p>
      </td>
      <td>
        <p>
          Stores the <a href="#template-info-file">template config</a>.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <p><code>/partials</code></p>
      </td>
      <td>
        <p>
          Stores the available partial templates. Each folder is a partial template that could be used to scaffold new features. 
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <p><code>/init</code></p>
      </td>
      <td>
        <p>
          Partial template used to initialize the source.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <p><code>/partials/<i>&lt;partial-folder&gt;</i></code></p>
      </td>
      <td>
        <p>
          A partial template is a set of files and folders that will be generated and merged in your code structure.
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <p><code>/partials/<i>&lt;partial-folder&gt;</i>/scafflater.jsonc</code></p>
      </td>
      <td>
        <p>
          The partial template configuration. In this file you can configure where and how the partial template must be generated.
        </p>
      </td>
    </tr>
  </tbody>
</table>
</div>

## Template Info File

Path: `/scafflater.jsonc`

File with main template configuration

### Contents
```
{
  "template":{
    "name": "main-name",
    "version": "v0.0.0",
    "options": {  /* see template options section */ },
    "parameters": [],
  }
}
```

### Template Configuration

These are the available options to template configuration.

<div class="mobile-side-scroller">
<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>
        <p><code>singleLineComment</code></p>
      </td>
      <td>
        <p>
          Scafflater can generate some lines off information at your code. This configuration specifies the single line comment string of the language.
        </p>
      </td>
      <td>
        <p>
          <code>#</code>
        </p>
      </td>
    </tr>
    <tr>
      <td>
        <p><code>startRegionMarker</code></p>
      </td>
      <td>
        <p>
          The start region marker. 
        </p>
      </td>
      <td><code>@scf-region</code></td>
    </tr>
    <tr>
      <td>
        <p><code>endRegionMarker</code></p>
      </td>
      <td>
        <p>
          The end region marker. 
        </p>
      </td>
      <td><code>@end-scf-region</code></td>
    </tr>
    <tr>
      <td>
        <p><code>annotate</code></p>
      </td>
      <td>
        <p>
          Scafflater can generate some annotations on appended codes to turn easier to check how it was generated. Use this to disable this feature
        </p>
      </td>
      <td><code>true</code></td>
    </tr>
    <tr>
      <td>
        <p><code>annotationTemplate</code></p>
      </td>
      <td>
        <p>
          The annotation template used to generate the annotation. This use <a href="https://handlebarsjs.com/" target="_blank"> Handlebars</a>
        </p>
      </td>
      <td><code>{{{config.singleLineComment}}} {{{config.startRegionMarker}}}
{{{config.singleLineComment}}} This code was generated by scafflater
{{{config.singleLineComment}}} @template {{{template.name}}} (v{{{template.version}}})
{{{config.singleLineComment}}} @partial {{{partial.name}}}
{{#each parameters }}
{{{../template.config.singleLineComment}}} @{{{@key}}} {{{this}}} 
{{/each}}

{{{content}}}

{{{config.singleLineComment}}} {{{config.endRegionMarker}}}</code></td>
    </tr>
  </tbody>
</table>
</div>

## Initializer

Path: `/_partials/_init/_scf.json`
### Contents
```
{
  "name": "_init",
  "type": "init",
  "parameters": [],
}
```

## Partial configuration

Path: `/_partials/*/_scf.json`
### Contents
```
{
  "name": "partial-template-name",
  "type": "partial",
  "parameters": [],
}
```

## Initializer and Partial Parameters

An array of desired parameters used in code generation. To inform these parameters use the same data structure used by [Inquirer](https://github.com/SBoudrias/Inquirer.js). This library is used by [Scafflater Cli](https://www.npmjs.com/package/scafflater-cli) to collect users answers, and using the same structure will guarantee the compatibly of your template with the cli.

### Additional parameter properties
In addition to possible Inquirer parameters, there are others builtin features:

<div class="mobile-side-scroller">
<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
     <tr>
      <td>
        <p><code>regex</code></p>
      </td>
      <td>
        <p>
          An regex to validate the user answer.
        </p>
      </td>
      <td><code>false</code></td>
    </tr>
    <tr>
      <td>
        <p><code>mask</code></p>
      </td>
      <td>
        <p>
          Sometime the input can be printed on output files, like in annotations. Set this to true to mask sensible information, like passwords and tokens.
        </p>
      </td>
      <td><code>false</code></td>
    </tr>
  </tbody>
<table>
<div>

## _scf.json file

In addition of the generated core base on the initialized and partials, Scafflater creates a single file at root of the target. This file contains information about how the code was generated. 

This file will be used by any developer to add partials and must be committed into your source code .

### Content
```
{
  template: {
    name: "template-name",
    version: "template-version",
    source:{
      name: "source-name",
      key: "source-key",
      gitHub:{
        baseurl: "https://github.com/"
      }
    },
  },
  partials: [
    {
      path: "some-template/some-sub-template"
      parameters: {} // The parameters to generate the partials
    }
  ]
}
```